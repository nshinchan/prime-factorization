<!doctype html>
<html lang="ja">
	<head>
		<meta charset="UTF-8">
		<title>Prime Factorization(素因数分解)</title>
		<style>
			h1 {
				color: #375e97;
				font-size: 4rem;
				font-family: cursive;
				border-bottom: 1px solid #375e97;
			}
			p {
				font-size: 2rem;
			}
			body{
				background-color: pink;
			}
			#num,button,#rst{
				font-size: 2rem;
				padding: 10px;
				margin: 0.5em 0;
				border-radius: 0.5em;
			}
                        button{
				background-color: greenyellow;
			}
			#rst{
				background-color: yellow;
			}
                </style>
	</head>
	<body>
                <header>
			<h1>Prime Factorization</h1>
		</header>
		<p>素因数分解アプリ。数字を素数の積に分解します。</p>
		<input id="num" type="text" name="num"><br>
		<button name="btn" onclick="pfactorization()">素因数分解</button>
		<button id="rst"><a href="index.html">リセット</a></button>
		<div id="output"></div>
		<footer>
			<p>Powerd by しんちゃん</p>
		</footer>
	</body>
	<script type="text/javascript">	
		function isPrime(n) {
		      if (n <= 1) return false; // 1以下の数は素数ではない
		      for (let i = 2; i <= Math.sqrt(n); i++) {
			      if (n % i === 0) return false; // 割り切れた場合は素数ではない
		      }
		      return true;
		}

		function listPrimesInRange(start, end) {
		      let primes = [];
		      for (let i = start; i <= end; i++) {
			      if (isPrime(i)) {
					primes.push(i);
			      }
		      }
		      return primes;
	        }

		function pfactorization(){
			var mynum = document.getElementById("num");
			var v = mynum.value;
			var pfs = [];
			var myprimes = listPrimesInRange(1, v);
			var i = 0;
			while(myprimes[i] < v){
				if(v % myprimes[i] == 0){
					pfs.push(myprimes[i])
					v = v / myprimes[i] | 0;
				}
				else{
					i++;
				}
			}
			pfs.push(v);
			document.getElementById('output').innerHTML = '[' + pfs + ']';
		}
	</script>
</html>
